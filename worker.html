<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ©˜å‚æ¨¡æ‹Ÿå™¨ä¸“ä¸šç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1E88E5',
                        secondary: '#26A69A',
                        danger: '#EF5350',
                        warning: '#FFB74D',
                        success: '#66BB6A',
                        info: '#42A5F5',
                        dark: '#424242',
                        light: '#F5F5F5',
                        stress: '#AB47BC',
                        innovation: '#7E57C2',
                        process: '#5C6BC0',
                        trust: '#42A5F5',
                        ethics: '#26A69A',
                        kpi: '#FFA726',
                        health: '#66BB6A'
                    },
                    fontFamily: {
                        sans: ['HarmonyOS Sans SC', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .progress-bar {
                @apply h-6 rounded-full bg-gray-200 overflow-hidden;
            }
            .progress-value {
                @apply h-full transition-all duration-500 ease-out;
            }
            .btn-option {
                @apply px-6 py-3 rounded-lg font-medium text-white transition-all duration-300 hover:shadow-lg transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-opacity-50;
            }
            .day-counter {
                @apply absolute top-4 left-4 text-2xl font-bold text-dark;
            }
            .stats-panel {
                @apply bg-white rounded-xl shadow-lg p-4 border-l-4 border-primary;
            }
            .event-panel {
                @apply bg-white rounded-xl shadow-lg p-6 border-l-4 border-secondary;
            }
            .achievement-badge {
                @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary/10 text-primary;
            }
            .keyboard-hint {
                @apply inline-flex items-center justify-center w-6 h-6 mx-1 text-xs font-medium rounded bg-gray-200 text-gray-700;
            }
            .btn-selected {
                @apply ring-4 ring-yellow-400 ring-opacity-70 transform -translate-y-1 scale-105;
            }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen font-sans">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- é¡¶éƒ¨å¯¼èˆª -->
        <header class="mb-8">
            <div class="flex justify-between items-center">
                <h1 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold text-primary flex items-center">
                    <i class="fa fa-building-o mr-3"></i>æ©˜å‚æ¨¡æ‹Ÿå™¨ä¸“ä¸šç‰ˆ
                </h1>
                <div class="day-counter">
                    <span id="day-counter" class="text-primary">Day 0</span>
                </div>
            </div>
        </header>

        <div class="flex flex-col lg:flex-row gap-6">
            <!-- å·¦ä¾§çŠ¶æ€é¢æ¿ -->
            <div class="w-full lg:w-1/3 stats-panel">
                <h2 class="text-xl font-bold mb-4 flex items-center">
                    <i class="fa fa-bar-chart mr-2"></i>å‘˜å·¥çŠ¶æ€
                </h2>
                
                <!-- çŠ¶æ€æ¡ -->
                <div class="space-y-4">
                    <div>
                        <div class="flex justify-between mb-1">
                            <span class="font-medium">å¥åº·</span>
                            <span id="health-value" class="font-semibold">80%</span>
                        </div>
                        <div class="progress-bar">
                            <div id="health-bar" class="progress-value bg-health" style="width: 80%"></div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="flex justify-between mb-1">
                            <span class="font-medium">å‹åŠ›</span>
                            <span id="stress-value" class="font-semibold">20%</span>
                        </div>
                        <div class="progress-bar">
                            <div id="stress-bar" class="progress-value bg-stress" style="width: 20%"></div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="flex justify-between mb-1">
                            <span class="font-medium">ç»©æ•ˆ</span>
                            <span id="kpi-value" class="font-semibold">20%</span>
                        </div>
                        <div class="progress-bar">
                            <div id="kpi-bar" class="progress-value bg-kpi" style="width: 20%"></div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="flex justify-between mb-1">
                            <span class="font-medium">ç”µå­æµç†Ÿæ‚‰åº¦</span>
                            <span id="process-value" class="font-semibold">20%</span>
                        </div>
                        <div class="progress-bar">
                            <div id="process-bar" class="progress-value bg-process" style="width: 20%"></div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="flex justify-between mb-1">
                            <span class="font-medium">å¯ä¿¡</span>
                            <span id="trust-value" class="font-semibold">20%</span>
                        </div>
                        <div class="progress-bar">
                            <div id="trust-bar" class="progress-value bg-trust" style="width: 20%"></div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="flex justify-between mb-1">
                            <span class="font-medium">è¯šä¿¡</span>
                            <span id="ethics-value" class="font-semibold">90%</span>
                        </div>
                        <div class="progress-bar">
                            <div id="ethics-bar" class="progress-value bg-ethics" style="width: 90%"></div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="flex justify-between mb-1">
                            <span class="font-medium">åˆ›é€ åŠ›</span>
                            <span id="innovation-value" class="font-semibold">20%</span>
                        </div>
                        <div class="progress-bar">
                            <div id="innovation-bar" class="progress-value bg-innovation" style="width: 20%"></div>
                        </div>
                    </div>
                </div>
                
                <!-- å…¶ä»–çŠ¶æ€æŒ‡æ ‡ -->
                <div class="mt-6 space-y-3">
                    <div class="flex justify-between items-center">
                        <span class="font-medium">èŠå¸</span>
                        <span id="coins-value" class="font-semibold text-lg">Â¥0</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="font-medium">ä¸“åˆ©</span>
                        <span id="patents-value" class="font-semibold text-lg">0</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="font-medium">å½“å‰é˜¶æ®µ</span>
                        <span id="phase-value" class="font-semibold text-lg text-primary">æ–°å‘˜å·¥åŸ¹è®­</span>
                    </div>
                </div>
            </div>
            
            <!-- å³ä¾§äº‹ä»¶é¢æ¿ -->
            <div class="w-full lg:w-2/3 event-panel">
                <div id="event-container">
                    <h2 class="text-xl font-bold mb-4 flex items-center">
                        <i class="fa fa-calendar-check-o mr-2"></i><span id="event-day">Day 0</span>
                    </h2>
                    
                    <div id="event-description" class="mb-8 text-lg leading-relaxed">
                        æ¬¢è¿åŠ å…¥æ©˜å‚ï¼ä½ çš„èŒåœºç”Ÿæ¶¯å³å°†å¼€å§‹...
                    </div>
                    
                    <div id="options-container" class="flex flex-col sm:flex-row gap-4 mt-6">
                        <!-- é€‰é¡¹æŒ‰é’®å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    
                    <div class="mt-4 text-sm text-gray-500">
                        <span class="keyboard-hint">â†‘</span>
                        <span class="keyboard-hint">â†“</span> é€‰æ‹©é€‰é¡¹
                        <span class="keyboard-hint">Enter</span> ç¡®è®¤
                    </div>
                    
                    <div id="achievements-container" class="mt-6">
                        <h3 class="font-medium mb-2 text-sm text-gray-600">æˆå°±</h3>
                        <div id="achievements-list" class="flex flex-wrap gap-2">
                            <!-- æˆå°±å¾½ç« å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>
                </div>
                
                <!-- ç»“å±€å¼¹çª— -->
                <div id="ending-modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 hidden">
                    <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4 shadow-2xl transform transition-all duration-300 scale-100">
                        <h2 class="text-2xl font-bold mb-4 text-center text-primary">æ¸¸æˆç»“æŸ</h2>
                        <p id="ending-text" class="text-lg text-center mb-6">ä½ å®Œæˆäº†æ‰€æœ‰æŒ‘æˆ˜ï¼</p>
                        <div class="flex justify-center">
                            <button id="restart-button" class="btn-option bg-primary">
                                <i class="fa fa-refresh mr-2"></i>é‡æ–°å¼€å§‹
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer class="mt-12 text-center text-gray-500 text-sm">
            <p>Â© 2025 æ©˜å‚æ¨¡æ‹Ÿå™¨ä¸“ä¸šç‰ˆ | ä»…ä¾›å¨±ä¹ï¼Œéå®˜æ–¹æ¸¸æˆ</p>
        </footer>
    </div>

    <script>
        // æ¸¸æˆé˜¶æ®µæšä¸¾
        const GamePhase = {
            NEO: "æ–°å‘˜å·¥åŸ¹è®­",
            DEPARTMENT: "éƒ¨é—¨ç”Ÿå­˜æˆ˜",
            CHAOS: "æ··æ²Œå¼€å‘",
            OUTPUT: "è¾“å‡ºè½®å›"
        };

        // å¢å¼ºç‰ˆæ¸¸æˆé€»è¾‘
        class HuaweiSimulatorPro {
            constructor() {
                this.stats = {
                    'health': 80, 'kpi': 20, 'trust': 20, 'coins': 0,
                    'days': 0, 'ethics': 90, 'stress': 20, 'innovation': 20,
                    'process': 20, 'patents': 0,
                    'high_altitude': 0,  // é«˜åŸåŸºç«™éƒ¨ç½²æ¬¡æ•°
                    'backup_plan': 0,  // æ›¿ä»£æ–™æ–¹æ¡ˆæ”¶é›†
                    'mentor_student': 1  // åŸ¹å…»å¾’å¼Ÿæ•°é‡
                };
                this.phase = GamePhase.NEO;
                this.achievements = new Set();
                this._initEnhancedEvents();
                this.eventPools = {
                    [GamePhase.NEO]: {
                        remaining: [],
                        triggered: []
                    },
                    [GamePhase.DEPARTMENT]: {
                        remaining: [],
                        triggered: []
                    },
                    [GamePhase.CHAOS]: {
                        remaining: [],
                        triggered: []
                    },
                    [GamePhase.OUTPUT]: {
                        remaining: [],
                        triggered: []
                    }
                };

                // åˆå§‹åŒ–å„é˜¶æ®µäº‹ä»¶æ± 
                for (const [phase, events] of Object.entries(this.events)) {
                    this.eventPools[phase].remaining = [...events];
                    this._shuffleArray(this.eventPools[phase].remaining);
                }
            }

            _initEnhancedEvents() {
                this.events = {
                    [GamePhase.NEO]: [
                        this._neoExamEvent,
                        this._mentorEvent,
                        this._snackQualityEvent,
                        this._hiringContractEvent,
                        this._englishInterviewEvent,
                        this._familyApprovalEvent,
                        this._salaryShowoffEvent,
                        this._ruralOriginEvent,
                        this._academicPressureEvent,
                        this._militaryDisciplineEvent,
                        this._firstMeetingEvent,
                        this._shenzhenShockEvent,
                        this._mentorEscapeEvent,
                        this._xpSystemEvent,
                        this._hometownComparisonEvent,
                        this._documentTranslationEvent,
                        this._midnightSnackEvent
                    ],
                    [GamePhase.DEPARTMENT]: [
                        this._odFraudEvent,
                        this._ipdProcessTrapEvent,
                        this._sanyapoWarEvent,
                        this._dcpBlackboxEvent,
                        this._patentHarvestEvent,
                        this._trustedRdEvent,
                        this._qualityTraceEvent,
                        this._monthEndSaturdayEvent,
                        this._qualificationDefenseEvent,
                        this._chipNormalizationEvent,
                        this._codeMergeWarEvent,
                        this._haltDisasterEvent,
                        this._ironTriangleEvent,
                        this._cloudDisconnectEvent,
                        this._fmeaPerformanceEvent,
                        this._separationPowerEvent,
                        this._digitalTwinEvent,
                        this._patentJungleEvent,
                        this._qualityStormEvent,
                        this._harmonyosChaosEvent,
                        this._finalOutputTrapEvent
                    ],
                    [GamePhase.CHAOS]: [
                        this._apiDocumentEvent
                    ]
                };
            }

            // äº‹ä»¶æ–¹æ³•å®šä¹‰
            _neoExamEvent() {
                return {
                    "desc": "æ–°å‘˜å·¥è€ƒè¯•é‡åˆ°ä¸ä¼šçš„é¢˜ç›®\nA. å·çœ‹é‚»åº§ç­”æ¡ˆ\nB. è¯šå®ä½œç­”",
                    "options": {
                        "A": {"effect": {"kpi": 10, "ethics": -15}},
                        "B": {"effect": {"kpi": -5, "ethics": 10}}
                    }
                };
            }

            _mentorEvent() {
                return {
                    "desc": "å¯¼å¸ˆè¦æ±‚å‘¨æœ«åŠ ç­é™ªç»ƒ\nA. æ¬£ç„¶ç­”åº”\nB. å§”å©‰æ‹’ç»",
                    "options": {
                        "A": {"effect": {"kpi": 15, "stress": 20, "trust": 10}},
                        "B": {"effect": {"kpi": -5, "stress": -10, "trust": -5}}
                    }
                };
            }

            _snackQualityEvent() {
                return {
                    "desc": "å‘ç°å…¬å¸æä¾›çš„ä¸‹åˆèŒ¶è´¨é‡ä¸‹é™\nA. å‘è¡Œæ”¿åé¦ˆ\nB. è‡ªå·±ç‚¹å¤–å–",
                    "options": {
                        "A": {"effect": {"stress": -5, "process": 5}},
                        "B": {"effect": {"coins": -20, "stress": -10}}
                    }
                };
            }

            _hiringContractEvent() {
                return {
                    "desc": "ç­¾çº¦æ—¶HRå°å§å§è¯´ï¼šã€å·¥ä½œæ»¡äº”å¹´å°±æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ„Ÿè°¢ã€\nA. éƒ‘é‡ç­¾å­—\nB. åé—®è¿çº¦é‡‘",
                    "options": {
                        "A": {"effect": {"ethics": 5}, "achievement": "äº”å¹´ä¹‹è¯º"},
                        "B": {"effect": {"stress": -5}}
                    }
                };
            }

            _englishInterviewEvent() {
                return {
                    "desc": "æµ·å¤–æ‹‰ä¼šå› ã€How are youã€ç­”æˆã€Fine,thank youã€è¢«é„™è§†\nA. æ€’ç»ƒå£è¯­\nB. å˜²ç¬‘æµ·å¤–åŒäº‹è‹±è¯­ä¸åœ°é“",
                    "options": {
                        "A": {"effect": {"stress": 10, "kpi": 3}},
                        "B": {"effect": {"trust": -5}}
                    }
                };
            }

            _familyApprovalEvent() {
                return {
                    "desc": "çˆ¶äº²è®¤ä¸ºã€ç§ä¼ä¸å¦‚ä¹é™¢ç¨³å®šã€\nA. æ™’å·¥èµ„æ¡\nB. è°ç§°å›½ä¼",
                    "options": {
                        "A": {"effect": {"coins": 5500}},
                        "B": {"effect": {"ethics": -20}, "achievement": "å–„æ„çš„è°è¨€"}
                    }
                };
            }

            _salaryShowoffEvent() {
                return {
                    "desc": "è€å®¶äº²æˆšç‚«è€€ä¹é™¢åˆ†æˆ¿\nA. æ™’è‚¡ç¥¨åˆ†çº¢æˆªå›¾\nB. è°ç§°æ·±åœ³æœ‰ç¦åˆ©æˆ¿",
                    "options": {
                        "A": {"effect": {"coins": 8888, "stress": 15}},
                        "B": {"effect": {"ethics": -20}}
                    }
                };
            }

            _ruralOriginEvent() {
                return {
                    "desc": "ä½œä¸ºå†œæ‘é•¿å­éœ€æ‰¿æ‹…å…¨å®¶å¼€é”€\nA. ç”³è¯·æµ·å¤–è‰°è‹¦è¡¥è´´\nB. æŒªç”¨å›¢å»ºç»è´¹",
                    "options": {
                        "A": {"effect": {"health": -10, "coins": 2000}},
                        "B": {"effect": {"ethics": -30}}
                    }
                };
            }

            _academicPressureEvent() {
                return {
                    "desc": "å‘ç°985ç¡•å£«åŒäº‹åœ¨å†™Hello World\nA. ä¸»åŠ¨è¾…å¯¼æš´éœ²å®åŠ›\nB. è£…ä½œä¸æ‡‚ä¿æŠ¤å…³ç³»",
                    "options": {
                        "A": {"effect": {"stress": 20, "kpi": 5}, "achievement": "å·ç‹ä¹‹ç‹"},
                        "B": {"effect": {"ethics": -10, "trust": 3}, "achievement": "èŒåœºå½±å¸"}
                    }
                };
            }

            _militaryDisciplineEvent() {
                return {
                    "desc": "å‘ç°è¿Ÿåˆ°1åˆ†é’Ÿæ‰£åŠå¤©å·¥èµ„\nA. æå‰è¹²å®ˆ\nB. ä¼ªé€ æ‰“å¡",
                    "options": {
                        "A": {"effect": {
                            "health": -8,
                            "kpi": 5,
                            "process": 2
                        }},
                        "B": {"effect": {
                            "ethics": -15,
                            "stress": -10,
                            "trust": -5
                        }}
                    }
                };
            }

            _firstMeetingEvent() {
                return {
                    "desc": "åœ¨èŠ±å‚å¤§å¦è¿·è·¯è¯¯å…¥é«˜ç®¡ä¼šè®®å®¤\nA. å†’å……0012763\nB. è°ç§°é€å¤–å–",
                    "options": {
                        "A": {"effect": {"kpi": 3, "ethics": -5}},
                        "B": {"effect": {"stress": 10}}
                    }
                };
            }

            _shenzhenShockEvent() {
                return {
                    "desc": "å‘ç°æ·±å—å¤§é“æ¯”è€å®¶å¿åŸè¿˜å®½\nA. æ‹ç…§å‘æœ‹å‹åœˆ\nB. è°ç§°è§è¿‡ä¸–é¢",
                    "options": {
                        "A": {"effect": {"coins": -100, "stress": -3}},
                        "B": {"effect": {"ethics": -5}}
                    }
                };
            }

            _mentorEscapeEvent() {
                return {
                    "desc": "å¯¼å¸ˆè¯´ã€å•æ¿è°ƒä¸é€šåˆ«æ¥è§æˆ‘ã€\nA. é€šå®µæ”»å…³\nB. ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹",
                    "options": {
                        "A": {"effect": {
                            "health": -15,
                            "kpi": 10,
                            "innovation": 5,
                            "mentor_student": -1
                        }},
                        "B": {"effect": {
                            "ethics": -20,
                            "process": -5,
                            "stress": -15
                        }}
                    }
                };
            }

            _xpSystemEvent() {
                return {
                    "desc": "ç”¨Windows XPå®ŒæˆåŒºå—é“¾è€ƒè¯•\nA. å¼ºè¡Œç ´è§£\nB. ç”³è¯·å»¶æœŸ",
                    "options": {
                        "A": {"effect": {"stress": 15, "kpi": 10}},
                        "B": {"effect": {"kpi": -5, "trust": 5}}
                    }
                };
            }

            _hometownComparisonEvent() {
                return {
                    "desc": "è€å®¶äº²æˆšç‚«è€€ä¹é™¢åˆ†æˆ¿\nA. æ™’è‚¡ç¥¨åˆ†çº¢æˆªå›¾\nB. è°ç§°æ·±åœ³æœ‰ç¦åˆ©æˆ¿",
                    "options": {
                        "A": {"effect": {"coins": 8888, "stress": 15}},
                        "B": {"effect": {"ethics": -20}}
                    }
                };
            }

            _documentTranslationEvent() {
                return {
                    "desc": "æ¥æ‰‹2003å¹´æ–‡è¨€æ–‡ç‰ˆAPIæ–‡æ¡£\nA. ç”¨å°é²ç­ç¿»è¯‘\nB. ç”©é”…ç»™æµ‹è¯•ç»„",
                    "options": {
                        "A": {"effect": {"kpi": 5, "health": -5}},
                        "B": {"effect": {"trust": -10}}
                    }
                };
            }

            _midnightSnackEvent() {
                return {
                    "desc": "å‡Œæ™¨ä¸‰ç‚¹è¡Œæ”¿é€æ¥è¿‡æœŸè¾£æ¡å¥—é¤\nA. å«æ³ªåä¸‹\nB. æ‹ç…§å‘å¿ƒå£°ç¤¾åŒº",
                    "options": {
                        "A": {"effect": {
                            "health": -20,
                            "kpi": 5,
                            "trust": 3
                        }},
                        "B": {"effect": {
                            "coins": 100,
                            "stress": 20,
                            "ethics": 5
                        }}
                    }
                };
            }

            _ipdProcessTrapEvent() {
                return {
                    "desc": "IPDæµç¨‹è¦æ±‚18ä¸ªæœˆå®Œæˆéœ€æ±‚è¯„å®¡\nA.ä¼ªé€ ä¼šè®®çºªè¦\nB.å‘èµ·æµç¨‹ä¼˜åŒ–ææ¡ˆ",
                    "options": {
                        "A": {"effect": {"kpi": 5, "ethics": -20, "process": -8}},
                        "B": {"effect": {"process": 8, "stress": 30, "kpi": -8}}
                    }
                };
            }

            _sanyapoWarEvent() {
                return {
                    "desc": "è¢«ç´§æ€¥å¾å¬å‚ä¸ARMæ¶æ„è¿ç§»ä¼šæˆ˜\nA.è¿ç»­é€šå®µ72å°æ—¶\nB.è£…ç—…èº²è¿›ç»ƒç§‹æ¹–",
                    "options": {
                        "A": {"effect": {
                            "kpi": 15,
                            "health": -50,
                            "patents": 1,
                            "mentor_student": -1
                        }},
                        "B": {"effect": {
                            "stress": -40,
                            "trust": -40,
                            "ethics": -15,
                            "backup_plan": -1
                        }}
                    }
                };
            }

            _dcpBlackboxEvent() {
                return {
                    "desc": "æŠ€æœ¯è¯„å®¡è¦æ±‚ç”¨ç®—ç›˜éªŒè¯5Gç®—æ³•\nA.æ·˜å®å¤è‘£ç®—ç›˜\nB.æŒ‡å‡ºè¯„å§”ä¸æ‡‚FFT",
                    "options": {
                        "A": {"effect": {"coins":-5000, "process":15}},
                        "B": {"effect": {"innovation":25, "stress":40, "trust":-20}}
                    }
                };
            }

            _patentHarvestEvent() {
                return {
                    "desc": "è¢«è¦æ±‚å°†å¤§å­¦æ¯•è®¾æ”¹æˆå…¬å¸ä¸“åˆ©\nA.æ·»åŠ å¯¼å¸ˆå§“å\nB.å‘æ˜'æ™ºèƒ½å·¥ç‰Œå®šä½ç³»ç»Ÿ'",
                    "options": {
                        "A": {"effect": {"ethics": -15}},
                        "B": {"effect": {"kpi": 10}}
                    }
                };
            }

            _trustedRdEvent() {
                return {
                    "desc": "ç”¨Windows XPå®ŒæˆåŒºå—é“¾å¯ä¿¡è€ƒè¯•\nA.è™šæ‹Ÿæœºä½œå¼Šè¢«æŠ“\nB.æ‰‹å†™SHA256ç®—æ³•",
                    "options": {
                        "A": {"effect": {"ethics": -30}},
                        "B": {"effect": {"health": -20, "kpi": 8}}
                    }
                };
            }

            _qualityTraceEvent() {
                return {
                    "desc": "ç°ç½‘æ•…éšœè¢«è¦æ±‚è¿½æº¯ä¸‰å¹´å‰ä»£ç \nA.ç¯¡æ”¹Gitè®°å½•\nB.æ‰¿è®¤ç¥–ä¼ ä»£ç ç¼ºé™·",
                    "options": {
                        "A": {"effect": {"ethics": -50}},
                        "B": {"effect": {"trust": 20, "stress": 40}}
                    }
                };
            }

            _monthEndSaturdayEvent() {
                return {
                    "desc": "å¼ºåˆ¶å‚åŠ 'å¥‹æ–—è€…æ–‡åŒ–'åŸ¹è®­\nA.èƒŒè¯µå››å¤§åè‘—\nB.å•æ‰€åˆ·æ‹›è˜ç½‘ç«™è¢«AIç›‘æ§",
                    "options": {
                        "A": {"effect": {"stress": 15}},
                        "B": {"effect": {"ethics": -10}}
                    }
                };
            }

            _qualificationDefenseEvent() {
                return {
                    "desc": "14çº§å‡15çº§è¢«é—®'å¦‚ä½•è¯æ˜ä½ å€¼è¿™ä¸ªé’±'\nA.å±•ç¤ºåŠ ç­è®°å½•\nB.æ€’æ’•ç­”è¾©ææ–™",
                    "options": {
                        "A": {"effect": {"kpi": 5}},
                        "B": {"effect": {"stress": -30}}
                    }
                };
            }

            _chipNormalizationEvent() {
                return {
                    "desc": "ç¡¬ä»¶è®¾è®¡è¢«å¼ºåˆ¶ä½¿ç”¨åå¹´å‰èŠ¯ç‰‡\nA.ä¼ªé€ æµ‹è¯•æ•°æ®\nB.å‘èµ·å™¨ä»¶æ›¿ä»£ææ¡ˆ",
                    "options": {
                        "A": {"effect": {"kpi": 8, "ethics": -20}},
                        "B": {"effect": {"process": -15}}
                    }
                };
            }

            _codeMergeWarEvent() {
                return {
                    "desc": "å› å˜é‡å'worker'ä¸å¤Ÿå¥‹æ–—è¢«æ‹’\nA.æ”¹åhuami_warrior\nB.æäº¤ä»£ç éª‚æˆ˜",
                    "options": {
                        "A": {"effect": {"kpi": 3}},
                        "B": {"effect": {"trust": -20}}
                    }
                };
            }

            _haltDisasterEvent() {
                return {
                    "desc": "é«˜åŠ é€Ÿå¯¿å‘½è¯•éªŒçƒ§æ¯åŸå‹æœº\nA.ç”©é”…ç»™å®ä¹ ç”Ÿ\nB.æ‰¿è®¤é™é¢è®¾è®¡å¤±è¯¯",
                    "options": {
                        "A": {"effect": {"ethics": -30}},
                        "B": {"effect": {"stress": 40}}
                    }
                };
            }

            _ironTriangleEvent() {
                return {
                    "desc": "å®¢æˆ·è¦æ±‚72å°æ—¶å®šåˆ¶æ–¹æ¡ˆ\nA.å¯åŠ¨é“ä¸‰è§’ä¼šæˆ˜\nB.æ¨ç»™å‹å•†èƒŒé”…",
                    "options": {
                        "A": {"effect": {"health": -25, "kpi": 20}},
                        "B": {"effect": {"trust": -30}}
                    }
                };
            }

            _cloudDisconnectEvent() {
                return {
                    "desc": "å…¨çƒç ”å‘äº‘çªå‘æ–­è¿äº‹æ•…\nA.ç”¨Uç›˜ä¼ é€’ä»£ç \nB.åœ¨æœˆäº®æ¡¥ä¸‹é’“é±¼æ‘¸é±¼",
                    "options": {
                        "A": {"effect": {"process": -20}},
                        "B": {"effect": {"stress": -15}}
                    }
                };
            }

            _fmeaPerformanceEvent() {
                return {
                    "desc": "æ•…éšœæ¨¡å¼åˆ†æè¢«è¦æ±‚è¡¨æ¼”èˆå°å‰§\nA.ç¼–å†™ã€Šä»£ç çš„è‡ªæˆ‘ä¿®å…»ã€‹å‰§æœ¬\nB.æŒ‡å‡ºå½¢å¼ä¸»ä¹‰é­è®°è¿‡",
                    "options": {
                        "A": {"effect": {"kpi": 5}},
                        "B": {"effect": {"stress": 30}}
                    }
                };
            }

            _separationPowerEvent() {
                return {
                    "desc": "SEGè¦æ±‚ç”¨ä¸‰ç§è¯­è¨€å†™åŒä¸€ä»½æ–‡æ¡£\nA.ç”¨GPTç”Ÿæˆ'èŠ±å‚å…«è‚¡æ–‡'\nB.å‘èµ·é›†ä½“æŠ—è®®",
                    "options": {
                        "A": {"effect": {"kpi": 3}},
                        "B": {"effect": {"stress": -20}}
                    }
                };
            }

            _digitalTwinEvent() {
                return {
                    "desc": "è™šæ‹Ÿæµ‹è¯•è¦æ±‚æ¨¡æ‹Ÿ3000æ¬¡æŠ˜å \nA.å†™æ­»æµ‹è¯•ç»“æœ\nB.çœŸå®æµ‹è¯•å¯¼è‡´æ‰‹æœºå†’çƒŸ",
                    "options": {
                        "A": {"effect": {"ethics": -20}},
                        "B": {"effect": {"coins": -5000}}
                    }
                };
            }

            _patentJungleEvent() {
                return {
                    "desc": "å‘ç°æ ¸å¿ƒç®—æ³•å·²è¢«ä¸‰æ˜Ÿæ³¨å†Œ\nA.å‘æ˜'åŸºäºåŒºå—é“¾çš„æŠ„è¢­æ£€æµ‹'\nB.è´¿èµ‚ä¸“åˆ©å®¡æ ¸å‘˜",
                    "options": {
                        "A": {"effect": {"innovation": 15}},
                        "B": {"effect": {"ethics": -50}}
                    }
                };
            }

            _qualityStormEvent() {
                return {
                    "desc": "è¢«è¦æ±‚ä¸ºäº”å¹´å‰çš„ä»£ç å†™åä¸‡å­—æ£€è®¨\nA.ç”¨GPTç”Ÿæˆ\nB.åœ¨SEGè¯„å®¡ä¼šè£…ç–¯",
                    "options": {
                        "A": {"effect": {"kpi":5, "ethics":-25, "process":-10}},
                        "B": {"effect": {"stress":-50, "trust":-30, "health":15}}
                    }
                };
            }

            _harmonyosChaosEvent() {
                return {
                    "desc": "è”è°ƒå‘ç°æ¥å£æ–‡æ¡£ç”¨ç”²éª¨æ–‡ä¹¦å†™\nA.è‡ªå­¦å¤æ±‰è¯­ç ´è¯‘\nB.ç”©é”…ç»™2012å®éªŒå®¤",
                    "options": {
                        "A": {"effect": {"kpi":15, "health":-25, "innovation":20}},
                        "B": {"effect": {"trust":-40, "stress":-20, "process":-15}}
                    }
                };
            }

            _finalOutputTrapEvent() {
                return {
                    "desc": "å‡15åæ¥åˆ°éƒ¨é—¨æ‹›è˜ä»»åŠ¡\nA.æ‰¿æ‹…ä»»åŠ¡\nB.æœæ–­æ‹’ç»",
                    "options": {
                        "A": {"effect": {"kpi": -50}},
                        "B": {"effect": {"kpi": -20}}
                    }
                };
            }

            _apiDocumentEvent() {
                return {
                    "desc": "å‘ç°æ–‡è¨€æ–‡APIæ–‡æ¡£ï¼š\nA.è‡ªè¡Œè§£æ\nB.ç”©é”…SE",
                    "options": {
                        "A": {"effect": {"health": -5, "kpi": 3}},
                        "B": {"effect": {"trust": -3}}
                    }
                };
            }

            // å·¥å…·æ–¹æ³•
            _shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            modifyStat(stat, value) {
                if (this.stats[stat] !== undefined) {
                    this.stats[stat] = Math.max(0, Math.min(100, this.stats[stat] + value));
                }
            }

            // è§¦å‘éšæœºäº‹ä»¶
            triggerRandomEvent() {
                if (this.phase in this.eventPools) {
                    const pool = this.eventPools[this.phase];
                    if (pool.remaining.length === 0) {
                        // é‡ç½®äº‹ä»¶æ± 
                        pool.remaining = [...pool.triggered];
                        pool.triggered = [];
                        this._shuffleArray(pool.remaining);
                    }
                    
                    const eventFunc = pool.remaining.pop();
                    pool.triggered.push(eventFunc);
                    return eventFunc.bind(this)();
                }
                return null;
            }

            // æ£€æŸ¥æ˜¯å¦è¾¾æˆç»“å±€æ¡ä»¶
            checkEnding() {
                // æˆ˜ç•¥è¾¾æˆå‹ç»“å±€
                const baseDays = 30;
                if (this.stats['days'] >= 10) {
                    if (this.stats['health'] <= 0) {
                        return "ğŸŒ‰ èº«ä½“æ˜¯é©å‘½çš„æœ¬é’±ï¼ŒåŒå­¦è¦çæƒœå¥åº·";
                    }
                    if (this.stats['innovation'] >= 100) {
                        return "ğŸš€ åˆ›æ–°é¢†è¢–ç»“å±€ï¼ˆæ‰§æŒ2012å®éªŒå®¤ï¼‰";
                    }
                    if (this.stats['trust'] >= 100) {
                        return "ğŸŒ ä¸“ä¸šå¯ä¿¡ï¼Œå…¨çƒä¸“å®¶ç»“å±€ï¼ˆæ´¾é©»æ…•å°¼é»‘ç ”ç©¶é™¢ï¼‰";
                    }
                    if (this.stats['process'] >= 100) {
                        return "ğŸ“‘ æµç¨‹å¤§å¸ˆç»“å±€ï¼ˆè°ƒä»»ä¸‰ä¸«å¡æµç¨‹ä¼˜åŒ–ä¸­å¿ƒï¼Œè¿‡ç‚¹å¤§å¸ˆï¼‰";
                    }
                    if (this.stats['ethics'] <= 0) {
                        return "ğŸ“œ è´ªè…è¢«æŸ¥ï¼ŒBCGç»“å±€ï¼ˆæˆä¸ºå‘¨ä¼šæ¡ˆä¾‹ï¼‰";
                    }
                    if (this.stats['stress'] >= 100) {
                        return "ğŸ§¨ å‹åŠ›æ‹‰æ»¡ï¼Œæ‚²æƒ…è¾“å‡ºç»“å±€ï¼ˆPLéƒ½è¢«ä½ å·è·‘äº†ï¼Œéƒ¨é—¨è§£æ•£ï¼‰";
                    }
                }
                
                if (this.stats['days'] >= 30) {
                    // æˆ˜ç•¥æˆå°±å‹
                    if (
                        this.stats['kpi'] >= 90 &&
                        this.stats['innovation'] >= 50 &&
                        this.stats['patents'] >= 1 &&
                        this.stats['days'] >= baseDays
                    ) {
                        return "ğŸŒŸ æŠ€æœ¯å¤§å’–ç»“å±€ï¼ˆç ´æ ¼æ™‹å‡SEGå§”å‘˜ï¼‰";
                    }
                    if (this.stats['innovation'] >= 90 && this.stats['patents'] >= 5) {
                        return "ğŸš€ åˆ›æ–°é¢†è¢–ç»“å±€ï¼ˆæ‰§æŒ2012å®éªŒå®¤ï¼‰";
                    }
                    if (this.stats['process'] >= 50 && this.stats['ethics'] >= 80) {
                        return "ğŸ’ æµç¨‹ä¼˜åŒ–å¤§å¸ˆç»“å±€ï¼ˆè°ƒä»»IPDæ”¹é©ç»„ï¼‰";
                    }
                    if (this.stats['trust'] >= 95 && this.stats['days'] >= 20) {
                        return "ğŸŒ å…¨çƒä¸“å®¶ç»“å±€ï¼ˆæ´¾é©»æ…•å°¼é»‘ç ”ç©¶é™¢ï¼‰";
                    }
                    if (this.stats['stress'] >= 80 && this.stats['kpi'] >= 90) {
                        return "ğŸ† é‡‘ç‰Œå¥‹æ–—è€…ç»“å±€ï¼ˆå¥‹æ–—è€…ä¹‹é­‚ï¼‰";
                    }

                    // æˆ˜ç•¥å¤±æ§å‹ç»“å±€
                    if (this.stats['innovation'] <= 20 && this.stats['stress'] >= 70) {
                        return "ğŸ’¥ æŠ€æœ¯è´Ÿå€ºçˆ†ç‚¸ç»“å±€ï¼ˆè¢«DRBè£å®šæŠ€æœ¯è·¯çº¿é”™è¯¯ï¼‰";
                    }
                    if (this.stats['coins'] <= -2000 && this.stats['trust'] <= 40) {
                        return "ğŸ•³ï¸ èµ„æºé»‘æ´ç»“å±€ï¼ˆæ°¸ä¹…å†»ç»“é¢„ç®—å®¡æ‰¹æƒï¼‰";
                    }
                    if (this.stats['kpi'] <= 30 && this.stats['days'] >= 20) {
                        return "ğŸ¤– å·¥å…·äººç»“å±€ï¼ˆè°ƒä»»ç¥–ä¼ ä»£ç ç»´æŠ¤ç»„ï¼‰";
                    }
                    if (this.stats['ethics'] <= 20 && this.stats['coins'] >= 1500) {
                        return "ğŸ’¸ èŠ±å‚è›€è™«ç»“å±€ï¼ˆåè´ªç»„å…¥é©»å·¥ä½ï¼‰";
                    }
                    if (this.stats['health'] <= 30 && this.stats['stress'] >= 90) {
                        return "ğŸŒ‹ ç«å±±å£ç»“å±€ï¼ˆè¢«å¼ºåˆ¶è¾“å‡ºç­åŠ ç½—å°”ï¼‰";
                    }
                    if (this.stats['backup_plan'] >= 5 && this.stats['high_altitude'] >= 2) {
                        return "ğŸ›¡ï¸ å¤‡èƒè½¬æ­£ç»“å±€ï¼ˆåœ°æƒ³ç‰¹åˆ«è¡¨å½°ï¼‰";
                    }
                    if (this.stats['innovation'] <= 10 && this.stats['stress'] >= 80) {
                        return "ğŸ’¥ æŠ€æœ¯è´Ÿå€ºçˆ†ç‚¸ç»“å±€ï¼ˆè¢«DRBè£å®šæŠ€æœ¯è·¯çº¿é”™è¯¯ï¼‰";
                    }
                    
                    // æˆ˜ç•¥è°ƒæ•´å‹ç»“å±€
                    if (this.stats['ethics'] >= 80 && this.stats['kpi'] <= 50) {
                        return "ğŸ”„ èŒä¸šè½¬æ¢ç»“å±€ï¼ˆè°ƒä»»è´¨é‡å›æº¯ä¸“å‘˜ï¼‰";
                    }
                    if (this.stats['stress'] >= 70 && this.stats['innovation'] >= 40) {
                        return "ğŸŒ™ æ¹–ç•”å“²äººç»“å±€ï¼ˆå¿ƒå£°ç¤¾åŒºä¸“æ ä½œå®¶ï¼‰";
                    }
                    if (this.stats['process'] >= 60 && this.stats['kpi'] <= 60) {
                        return "ğŸ“š çŸ¥è¯†ç®¡å®¶ç»“å±€ï¼ˆä»»èŒä¸‰ä¸«å¡æ¡£æ¡ˆé¦†ï¼‰";
                    }
                    if (this.stats['innovation'] <= 20 && this.stats['days'] >= 15) {
                        return "ğŸ› ï¸ å™¨ä»¶å½’ä¸€åŒ–ç»“å±€ï¼ˆè½¬å…¥åå¹´èŠ¯ç‰‡ç»´æŠ¤ç»„ï¼‰";
                    }
                    if (this.stats['trust'] >= 70 && this.stats['stress'] <= 50) {
                        return "ğŸŒ‰ æµç¨‹èŠ‚ç‚¹ç»“å±€ï¼ˆæ°¸ä¹…æ´¾é©»æœˆäº®æ¡¥åè°ƒå²—ï¼‰";
                    }
                }
                
                // é˜¶æ®µè½¬æ¢
                if (this.stats['days'] >= 10 && this.phase === GamePhase.NEO) {
                    this.phase = GamePhase.DEPARTMENT;
                    return null;
                }
                
                return null;
            }
        }

        // ç½‘é¡µUIæ§åˆ¶å™¨ - å¢å¼ºäº¤äº’åŠŸèƒ½
        class HuaweiUIController {
            constructor(game) {
                this.game = game;
                this.currentEvent = null;
                this.selectedOptionIndex = 0;
                
                // DOMå…ƒç´ å¼•ç”¨
                this.dayCounter = document.getElementById('day-counter');
                this.eventDay = document.getElementById('event-day');
                this.eventDescription = document.getElementById('event-description');
                this.optionsContainer = document.getElementById('options-container');
                this.achievementsList = document.getElementById('achievements-list');
                this.endingModal = document.getElementById('ending-modal');
                this.endingText = document.getElementById('ending-text');
                this.restartButton = document.getElementById('restart-button');
                
                // çŠ¶æ€æŒ‡æ ‡å…ƒç´ 
                this.statusElements = {
                    health: { value: document.getElementById('health-value'), bar: document.getElementById('health-bar') },
                    stress: { value: document.getElementById('stress-value'), bar: document.getElementById('stress-bar') },
                    kpi: { value: document.getElementById('kpi-value'), bar: document.getElementById('kpi-bar') },
                    process: { value: document.getElementById('process-value'), bar: document.getElementById('process-bar') },
                    trust: { value: document.getElementById('trust-value'), bar: document.getElementById('trust-bar') },
                    ethics: { value: document.getElementById('ethics-value'), bar: document.getElementById('ethics-bar') },
                    innovation: { value: document.getElementById('innovation-value'), bar: document.getElementById('innovation-bar') },
                    coins: { value: document.getElementById('coins-value') },
                    patents: { value: document.getElementById('patents-value') },
                    phase: { value: document.getElementById('phase-value') }
                };
                
                // æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨
                this.restartButton.addEventListener('click', () => this.restartGame());
                document.addEventListener('keydown', (e) => this.handleKeydown(e));
                
                // åˆå§‹äº‹ä»¶
                this.triggerNewEvent();
            }
            
            // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
            updateStatusDisplay() {
                for (const [stat, elements] of Object.entries(this.statusElements)) {
                    if (elements.bar) {
                        elements.value.textContent = `${this.game.stats[stat]}%`;
                        elements.bar.style.width = `${this.game.stats[stat]}%`;
                        
                        // ä¸ºè¿›åº¦æ¡æ·»åŠ é¢œè‰²å˜åŒ–æ•ˆæœ
                        if (this.game.stats[stat] <= 20) {
                            elements.bar.classList.add('animate-pulse');
                        } else {
                            elements.bar.classList.remove('animate-pulse');
                        }
                    } else {
                        elements.value.textContent = 
                            stat === 'coins' ? `Â¥${this.game.stats[stat]}` : 
                            stat === 'patents' ? `${this.game.stats[stat]}` : 
                            this.game.phase;
                    }
                }
                
                this.dayCounter.textContent = `Day ${this.game.stats['days']}`;
                this.eventDay.textContent = `Day ${this.game.stats['days']}`;
            }
            
            // è§¦å‘æ–°äº‹ä»¶
            triggerNewEvent() {
                this.currentEvent = this.game.triggerRandomEvent();
                if (!this.currentEvent) {
                    this.showEnding("æ­å–œå®Œæˆæ‰€æœ‰é˜¶æ®µæŒ‘æˆ˜ï¼");
                    return;
                }
                
                // é‡ç½®é€‰ä¸­çš„é€‰é¡¹ç´¢å¼•
                this.selectedOptionIndex = 0;
                
                // æ›´æ–°UI
                this.updateStatusDisplay();
                this.renderEvent();
                this.renderAchievements();
            }
            
            // æ¸²æŸ“äº‹ä»¶
            renderEvent() {
                // å¤„ç†äº‹ä»¶æè¿°ä¸­çš„æ¢è¡Œ
                const description = this.currentEvent.desc.replace(/\n/g, '<br>');
                this.eventDescription.innerHTML = description;
                
                // æ¸…ç©ºé€‰é¡¹å®¹å™¨
                this.optionsContainer.innerHTML = '';
                
                // åˆ›å»ºé€‰é¡¹æŒ‰é’®
                const optionKeys = Object.keys(this.currentEvent.options);
                for (let i = 0; i < optionKeys.length; i++) {
                    const optionKey = optionKeys[i];
                    const optionData = this.currentEvent.options[optionKey];
                    
                    const optionButton = document.createElement('button');
                    optionButton.className = `btn-option ${optionKey === 'A' ? 'bg-primary' : 'bg-secondary'} ${i === this.selectedOptionIndex ? 'btn-selected' : ''}`;
                    optionButton.innerHTML = `${optionKey}. ${optionData.text || 'é€‰æ‹©'}`;
                    optionButton.dataset.index = i;
                    
                    // æ·»åŠ æŒ‰é’®ç‚¹å‡»äº‹ä»¶
                    optionButton.addEventListener('click', () => this.handleChoice(optionKey));
                    
                    this.optionsContainer.appendChild(optionButton);
                }
            }
            
            // æ¸²æŸ“æˆå°±
            renderAchievements() {
                this.achievementsList.innerHTML = '';
                
                for (const achievement of this.game.achievements) {
                    const badge = document.createElement('span');
                    badge.className = 'achievement-badge';
                    badge.innerHTML = `<i class="fa fa-trophy mr-1"></i>${achievement}`;
                    this.achievementsList.appendChild(badge);
                }
            }
            
            // å¤„ç†é€‰é¡¹é€‰æ‹©
            handleChoice(choiceKey) {
                const option = this.currentEvent.options[choiceKey];
                
                // åº”ç”¨æ•ˆæœ
                for (const [stat, value] of Object.entries(option.effect || {})) {
                    this.game.modifyStat(stat, value);
                }
                
                // æ£€æŸ¥æ˜¯å¦è·å¾—æˆå°±
                if (option.achievement) {
                    this.game.achievements.add(option.achievement);
                }
                
                // å¢åŠ å¤©æ•°
                this.game.stats['days']++;
                
                // æ£€æŸ¥æ˜¯å¦æœ‰ç»“å±€
                const ending = this.game.checkEnding();
                if (ending) {
                    this.showEnding(ending);
                    return;
                }
                
                // è§¦å‘ä¸‹ä¸€ä¸ªäº‹ä»¶
                this.triggerNewEvent();
            }
            
            // æ˜¾ç¤ºç»“å±€
            showEnding(text) {
                this.endingText.textContent = text;
                this.endingModal.classList.remove('hidden');
            }
            
            // é‡æ–°å¼€å§‹æ¸¸æˆ
            restartGame() {
                this.game = new HuaweiSimulatorPro();
                this.endingModal.classList.add('hidden');
                this.triggerNewEvent();
            }
            
            // å¤„ç†é”®ç›˜äº‹ä»¶
            handleKeydown(e) {
                const optionButtons = Array.from(this.optionsContainer.querySelectorAll('button'));
                
                if (optionButtons.length === 0) return;
                
                // ä¸Šä¸‹ç®­å¤´å¯¼èˆª
                if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    this.selectedOptionIndex = (this.selectedOptionIndex - 1 + optionButtons.length) % optionButtons.length;
                    this.updateSelectedOption();
                } else if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    this.selectedOptionIndex = (this.selectedOptionIndex + 1) % optionButtons.length;
                    this.updateSelectedOption();
                } else if (e.key === 'Enter') {
                    e.preventDefault();
                    const selectedButton = optionButtons[this.selectedOptionIndex];
                    if (selectedButton) {
                        const choiceKey = selectedButton.textContent.charAt(0);
                        this.handleChoice(choiceKey);
                    }
                }
            }
            
            // æ›´æ–°é€‰ä¸­çš„é€‰é¡¹æ ·å¼
            updateSelectedOption() {
                const optionButtons = this.optionsContainer.querySelectorAll('button');
                
                optionButtons.forEach((button, index) => {
                    if (index === this.selectedOptionIndex) {
                        button.classList.add('btn-selected');
                    } else {
                        button.classList.remove('btn-selected');
                    }
                });
            }
        }

        // åˆå§‹åŒ–æ¸¸æˆ
        document.addEventListener('DOMContentLoaded', () => {
            const game = new HuaweiSimulatorPro();
            const ui = new HuaweiUIController(game);
        });
    </script>
</body>
</html>
    
